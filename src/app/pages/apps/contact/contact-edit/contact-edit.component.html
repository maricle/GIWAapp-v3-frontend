<mat-card class="cardWithShadow">
    <mat-card-content class=" p-24">
 

        <form [formGroup]="contactform" (ngSubmit)="saveDetail()">
            <div class="row m-y-24">
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Document Type</mat-label>
                        <mat-select formControlName="doc_type">
                            <mat-option *ngFor="let doctype of doctypes" [value]="doctype.id">
                                {{doctype.description}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Document Number</mat-label>
                        <input matInput placeholder="Enter document number" formControlName="doc_number">
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Name</mat-label>
                        <input matInput placeholder="Enter name" formControlName="name">
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Last Name</mat-label>
                        <input matInput placeholder="Enter last name" formControlName="last_name">
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Tax Condition</mat-label>
                        <mat-select formControlName="tax_condition">
                            <mat-option *ngFor="let taxcondition of taxconditions" [value]="taxcondition.id">
                                {{taxcondition.description}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Razon Social</mat-label>
                        <input matInput placeholder="Enter razon social" formControlName="razon_social">
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Email</mat-label>
                        <input matInput placeholder="Enter email" formControlName="email">
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Phone</mat-label>
                        <input matInput placeholder="Enter phone" formControlName="phone" required>
                        <mat-error *ngIf="contactform.get('phone')?.hasError('required')">
                            Phone is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-sm-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Cellphone</mat-label>
                        <input matInput placeholder="Enter cellphone" formControlName="cellphone">
                    </mat-form-field>
                </div>


                <div class="col-sm-3">
                    <mat-checkbox formControlName="supplier">Is Supplier?</mat-checkbox>
                </div>
                <div class="col-sm-3">
                    <mat-checkbox formControlName="designer">Is Designer?</mat-checkbox>
                </div>
                <div class="col-sm-6">
                    <mat-checkbox formControlName="enable">Is Enabled?</mat-checkbox>
                </div>

                <mat-divider></mat-divider>
                
                <div class="col-12 mt-4">
                    <div class="d-flex text-left align-items-center mb-3">
                        <h3 class="m-0">Addresses</h3>
                        <button mat-icon-button color="accent" type="button" (click)="addAddress()">
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>
                     
                    <div formArrayName="addresses">
                        <div *ngFor="let address of addresses.controls; let i=index" [formGroupName]="i" class="row g-3 mb-3">
                            <div class="col-sm-2">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Street</mat-label>
                                    <input matInput placeholder="Enter street" formControlName="street" required>
                                    <mat-error *ngIf="address.get('street')?.hasError('required')">
                                        Street is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Number</mat-label>
                                    <input matInput placeholder="Enter number" formControlName="number" required>
                                    <mat-error *ngIf="address.get('number')?.hasError('required')">
                                        Number is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>City</mat-label>
                                    <input matInput placeholder="Enter city" formControlName="city" required>
                                    <mat-error *ngIf="address.get('city')?.hasError('required')">
                                        City is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Province</mat-label>
                                    <input matInput placeholder="Enter province" formControlName="province">
                                </mat-form-field>
                            </div>
                           
                            <div class="col-sm-2">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Postal Code</mat-label>
                                    <input matInput placeholder="Enter postal code" formControlName="postal_code">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-1">
                            <mat-checkbox formControlName="default">Default </mat-checkbox>
                            </div>
                            <div class="col-sm-1 d-flex align-items-center">
                                <button mat-icon-button color="warn" type="button" (click)="removeAddress(i)">
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </div>
                            
                        </div>
                    </div>
                    
                </div>
                <div class="col-12 text-end mt-4">
                    <button mat-raised-button color="primary" type="submit" [disabled]="!contactform.valid">
                        Save
                    </button>
                </div>
            </div>
        </form>
    </mat-card-content>
</mat-card>