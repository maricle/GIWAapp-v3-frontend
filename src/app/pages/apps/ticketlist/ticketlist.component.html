<!-- listing and total no.of counts -->
<div class="row">
  <div class="col-sm-6 col-lg-2">
    <mat-card class="cardWithShadow">
      <div class="p-30 bg-light text-center cursor-pointer rounded" (click)="btnCategoryClick('1')">
        <h3 class="f-s-24 text-primary f-w-600 m-0 m-b-4">{{ Open }}</h3>
        <h6 class="text-primary f-w-400 m-0 f-s-16">New</h6>
      </div>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-2">
    <mat-card class="shadow-none">
      <div class="p-30 bg-error text-center cursor-pointer rounded" (click)="btnCategoryClick('2')">
        <h3 class="f-s-24 text-white m-0 m-b-4">{{ design }}</h3>
        <h6 class="text-white f-w-400 m-0 f-s-16">Design</h6> 
      </div>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-2">
    <mat-card class="shadow-none">
      <div class="p-30 bg-warning text-center cursor-pointer rounded" (click)="btnCategoryClick('3')">
        <h3 class="f-s-24 text-white m-0 m-b-4">{{ Inprogress }}</h3>
        <h6 class="text-white f-w-400 m-0 f-s-16">Inprogress</h6>
      </div>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-2">
    <mat-card class="shadow-none">
      <div class="p-30 bg-success text-center cursor-pointer rounded" (click)="btnCategoryClick('4')">
        <h3 class="f-s-24 text-white m-0 m-b-4">{{ packaging }}</h3>
        <h6 class="text-white f-w-400 m-0 f-s-16">Packaging</h6>
      </div>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-2">
    <mat-card class="shadow-none">
      <div class="p-30 bg-primary text-center cursor-pointer rounded" (click)="btnCategoryClick('5')">
        <h3 class="f-s-24 text-white m-0 m-b-4">{{ Closed }}</h3>
        <h6 class="text-white f-w-400 m-0 f-s-16">Finished</h6>
      </div>
    </mat-card>
  </div>
  <div class="col-sm-6 col-lg-2">
    <mat-card class="cardWithShadow">
      <div class="p-30 bg-light-success text-center cursor-pointer rounded" (click)="btnCategoryClick('')">
        <h3 class="f-s-24 text-success m-0 m-b-4">{{ totalCount }}</h3>
        <h6 class="text-success f-w-400 m-0 f-s-16">Invoicing $</h6>
      </div>
    </mat-card>
  </div>
</div>
<!-- add and search tickets -->
<mat-card class="cardWithShadow">
  <mat-card-content>
    <div class="row justify-content-between">
      <div class="col-sm-4">
        <mat-form-field appearance="outline" class="hide-hint">
          <input matInput (keyup)="applyFilter($any($event.target).value)" placeholder="Search Tickets" />
          <mat-icon matSuffix>
            <i-tabler name="search" class="icon-20"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>
      <div class="col-sm-4 d-flex justify-content-end align-items-center">
        <button mat-flat-button (click)="openDialog('Add', {})" color="primary">
          Add OrderTicket
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
<!-- table -->
<mat-card class="cardWithShadow">
  <mat-card-content>
    <div class="table-responsive">
      <table mat-table [dataSource]="dataSource" class="w-100 f-w-500 no-wrap"  matSort>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>Id</th>
          <td mat-cell *matCellDef="let element">
            {{ element.id }}
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>
            name
          </th>
          <td mat-cell *matCellDef="let element">
            <h6 class="m-0 f-s-16 mat-subtitle-1 f-w-500 m-b-4">{{ element.name}}</h6>
            <span class="m-0 f-s-14 f-w-400 max-text d-block">{{
              element.description
              }}</span>
          </td>
        </ng-container>
        
        

        <ng-container matColumnDef="contact">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>
            Contact
          </th>
          <td mat-cell *matCellDef="let element">
            <div class="d-flex align-items-center">
              <!-- <img [src]="element.imgSrc" alt="user" width="35" class="rounded-circle m-r-8" /> -->
              <!-- <i-tabler name="user" class="icon-18 m-r-4"></i-tabler> -->

              <span class="f-w-600 f-s-16 mat-subtitle-1">{{ element.customer_name }}</span>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="priority"> 
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>
            Priority
          </th>
          <td mat-cell *matCellDef="let element">
            <div class="d-flex align-items-center">
              <!-- <img [src]="element.imgSrc" alt="user" width="35" class="rounded-circle m-r-8" /> -->           
            
                @if(element.priority == 'High') {  <span class="f-w-600 f-s-12 mat-subtitle-1 text-error">{{ element.priority }}  </span>}
                @if(element.priority == 'Medium') { <span class="f-w-600 f-s-12 mat-subtitle-1 text-warning">{{ element.priority }} </span>}
                @if(element.priority == 'Low') { <span class="f-w-600 f-s-12 mat-subtitle-1 text-success">{{ element.priority }}  </span>}
              
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>
            Status
          </th>
          <td mat-cell *matCellDef="let element">
            <!-- <span
              class="bg-light mat-body-2 f-w-500 p-x-8 p-y-4 rounded-pill f-s-12"
              >{{ element.status }}</span
            > -->

            @if(element.status == 1) {
            
            <span class="bg-light  text-primary  mat-body-2 f-w-500 p-x-8 p-y-4 f-s-16 rounded-pill">{{element.status_desc}}</span>
            }

            @if(element.status == 2) {
              <span class="bg-light-error text-error  mat-body-2 f-w-500 p-x-8 p-y-4 f-s-16 rounded-pill">{{element.status_desc}}</span>
          
             }

            @if(element.status == 3) {
              <span class="bg-light-warning text-warning mat-body-2 f-w-500 p-x-8 p-y-4 f-s-16 rounded-pill">{{element.status_desc}}</span>
                         
            }
            @if(element.status == 4) {
              <span class="bg-light-success text-success mat-body-2 f-w-500 p-x-8 p-y-4 f-s-16 rounded-pill">{{element.status_desc}}</span>
         
                }
            @if(element.status == 5) {
              <span class="text-primary bg-light mat-body-2 f-w-500 p-x-8 p-y-4 f-s-16 rounded-pill">{{element.status_desc}}</span>
              }

          </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600" mat-sort-header>Date</th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            {{ element.date }}
          </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Action
          </th>
          <td mat-cell *matCellDef="let element" class="action-link">
            <a   (click)="updateStatus('2', element)"   *ngIf="element.status===1" class="m-r-10 cursor-pointer" matTooltip="Begin Design">
              <i-tabler name="icons" class="icon-18"></i-tabler>
            </a>

            <a (click)="openDialog('Update', element)" class="m-r-10 cursor-pointer" matTooltip="Edit"><i-tabler name="edit"
                class="icon-18"></i-tabler></a>

            <a  *ngIf="element.status==1" (click)="openDialog('Delete', element)" class="m-r-10 cursor-pointer" matTooltip="Delete">
              <i-tabler name="trash" class="icon-18"></i-tabler>
            </a>
            <a  class="m-r-10 cursor-pointer" matTooltip="Invoice">
              <i-tabler name="file-dollar" class="icon-18"></i-tabler>
            </a>

          

          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <mat-paginator [pageSizeOptions]="[ 20, 50,100]" showFirstLastButtons>
    </mat-paginator>
  </mat-card-content>
</mat-card>